function clearLastClick(){null!=lastClicked&&lastClicked.classed("gold opac_9",!1),d3.selectAll("circle.off").classed("off",!1),d3.selectAll("line.clicked").classed("clicked",!1),d3.selectAll("line.pathBack").classed("pathBack",!1),d3.selectAll("div.smallLabel").remove(),d3.select("#downArrow").style("height","10em"),d3.selectAll("div.article.pathBack").attr("style",null),d3.select("div.article.selected").classed("selected",!1),d3.select("div.article.current").classed("current",!1),d3.selectAll("div.article.pathBack").classed("pathBack",!1),d3.selectAll("div.article.rightSide").classed("rightSide",!1),d3.selectAll("div.article.leftSide").classed("leftSide",!1)}function rClick(){var e=d3.select("div.article.rightSide"),t=d3.select("div.article.current");null!=e._groups[0][0]&&(t.classed("current",!1).transition().ease(d3.easeCubic).style("left","-76%"),t.classed("leftSide",!0),e.classed("rightSide",!1).transition().ease(d3.easeCubic).style("left","10%"),e.classed("current",!0))}function lClick(){var e=d3.select("div.article.leftSide"),t=d3.select("div.article.current");null!=e._groups[0][0]&&(t.classed("current",!1).transition().ease(d3.easeCubic).style("left","96%"),t.classed("rightSide",!0),e.classed("leftSide",!1).transition().ease(d3.easeCubic).style("left","10%"),e.classed("current",!0))}function smallLabel(e,t){var l=e.value.title.length>20?e.value.title.slice(0,15)+"...":e.value.title,a=25,c=parseFloat(d3.select("circle#Dada").attr("cy")),s=parseFloat(d3.select("circle#Dada").attr("cx")),d=d3.select("div#chart").append("div").classed("smallLabel card",!0).attr("id",l+"Label").text(l),i=document.getElementById(l+"Label").offsetWidth;if(d.styles({left:function(){var t=e.x<s?-i-10:10;return e.x+t+"px"},top:function(){var t=e.y<c?-35:10;return e.y+t+"px"},opacity:0}),t){var r=d3.select("div#chart").append("div").classed("smallLabel card",!0).attr("id","dadaLabel").text("Dada"),n=document.getElementById("dadaLabel").offsetWidth;r.styles({left:function(){var t=e.x<s?10:-n-10;return s+t+"px"},top:function(){var t=e.y<c?10:-35;return c+t+"px"},opacity:0})}d.transition().delay(500).style("opacity",1),r.transition().delay(500).style("opacity",1)}function zoom(e){var t=parseFloat(d3.select("circle#Dada").attr("cx")),l=parseFloat(d3.select("circle#Dada").attr("cy")),a=[Math.abs(t-e.x),Math.abs(l-e.y)],c=(t+e.x)/2;centerY=(l+e.y)/2,d3.select("svg").append("circle").attr("fill","blue").attr("r",4).attr("cx",c).attr("cy",centerY);var s=.3/Math.max(a[0]/width,a[1]/height);translate=[width/2-s*c,height/2-s*centerY],g=d3.select("g"),g.transition().duration(2e3).style("stroke-width",1.5/s+"px").attr("transform","translate("+translate+")scale("+s+")")}function nodeClick(){return function(e){console.log(e);var t=d3.select("div#intro").style("opacity");console.log(t),1==t&&replaceTitle(e),clearLastClick(),d3.selectAll("circle").classed("off",!0),d3.select(this).classed("off",!1),d3.select(this).classed("gold opac_9",!0),lastClicked=d3.select(this),smallLabel(e,!0),d3.select("circle#Dada").classed("off",!1),pathBack(e),d3.select("#route").transition().styles({left:"0%",opacity:1}),d3.select("#nav").transition().styles({left:"-120%",opacity:0})}}function pathBack(e){var t;t=1!=e.value.distance&&e.value.hasOwnProperty("distance")?e.value.roots:["Dada"];var l="line."+e.id;d3.selectAll(l).classed("clicked",!0);var a="div#a_"+e.id;d3.select(a).classed("pathBack selected",!0),t.forEach(function(e){var t="line."+e;d3.selectAll(t).classed("clicked",!0)}),t.forEach(function(l){var a="circle#"+l;d3.select(a).classed("off",!1);var c="line."+e.id+"."+l;if(d3.selectAll(c).classed("clicked",!1).classed("pathBack",!0),e.value.distance>1){var s="line."+l+".Dada";d3.selectAll(s).classed("clicked",!1).classed("pathBack",!0),d3.select("#downArrow").style("height","20em");var d="div#a_"+l;d3.select(d).classed("pathBack current",!0),t.indexOf(l)>0&&d3.select(d).classed("rightSide",!0).style("left","96%"),d3.select("img.back").style("bottom","10em")}else d3.select("img.back").style("bottom","0em")})}function showLines(e,t,l){d3.selectAll(e).styles({"stroke-opacity":t,"stroke-width":1,diplay:"inline"})}function clearNodeClick(){clearLastClick(),d3.select("#route").transition().styles({left:"-120%",opacity:0}),d3.select("#nav").transition().styles({left:"0%",opacity:1})}var lastClicked=null;
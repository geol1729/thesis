var svg=d3.select("svg"),width=+svg.attr("width"),height=+svg.attr("height");d3.json("data/forceChart-sm-1.json",function(t,e){function n(t){var e=t.progress;o.style.width=100*e+"%"}function r(t){var e=t.nodes,n=t.links;o.style.display="none",console.log(e),console.log(n);var r=svg.append("g").attr("class","links").selectAll("line").data(n).enter().append("line").attr("stroke-width",1),s=svg.append("g").attr("class","nodes").selectAll("circle").data(e).enter().append("circle").attr("r",3).attr("fill","blue");r.attrs({x1:function(t){return t.source.x},y1:function(t){return t.source.y},x2:function(t){return t.target.x},y2:function(t){return t.target.y}}),s.attrs({cx:function(t){return t.x},cy:function(t){return t.y}}),s.append("title").text(function(t){return t.id})}if(t)throw t;console.log(e);var s=e.links,a=e.nodes,o=document.querySelector("#progress"),c=new Worker("worker.js");c.postMessage({nodes:a,links:s}),c.onmessage=function(t){switch(t.data.type){case"tick":return n(t.data);case"end":return r(t.data)}}});
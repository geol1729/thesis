function drawChart(t){console.log(t),console.log(t.length);var n=d3.select("div.chartBox").append("svg").attr("width",w).attr("height",h);n.selectAll("circles").data(t).enter().append("circle").attrs({r:5,cx:function(t){return links(t)[0]},cy:function(t){return links(t)[1]},fill:"blue",opacity:.1}),n.selectAll("text.url").data(t).enter().append("text").attrs({x:function(t){return links(t)[0]},y:function(t){return links(t)[1]},class:"url"}).text(function(t){return t.url}),n.selectAll("text.data").data(t).enter().append("text").attrs({x:function(t){return links(t)[0]},y:function(t){return links(t)[1]+10},class:"url"}).text(function(t){return links(t)[0]+" "+links(t)[1]})}function links(t){var n=0,r=0;return t.hasOwnProperty("mapsTo")&&(n=t.mapsTo.length),t.hasOwnProperty("mapsFrom")&&(r=t.mapsFrom.length),[n,r]}var margin={top:10,right:10,bottom:0,left:0},w=2e3-margin.left-margin.right,h=2e3-margin.top-margin.bottom;d3.json("data/cleaned-mapsFrom.json",drawChart);var ang=0,c=[w/2,h/2],cPos=[1,1];